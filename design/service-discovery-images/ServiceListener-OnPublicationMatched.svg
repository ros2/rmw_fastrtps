<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="455px" preserveAspectRatio="none" style="width:1006px;height:455px;" version="1.1" viewBox="0 0 1006 455" width="1006px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pco3rn1owzz1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="363" x="320.5" y="26.708">ServiceListener::OnPublicationMatched</text><ellipse cx="527.75" cy="40.9531" fill="#000000" filter="url(#f1pco3rn1owzz1)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" points="466.75,70.9531,588.75,70.9531,600.75,82.9531,588.75,94.9531,466.75,94.9531,454.75,82.9531,466.75,70.9531" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="466.75" y="86.7612">MATCHED_MATCHING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="433.75" y="80.3589">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="600.75" y="80.3589">no</text><rect fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="57" y="104.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="257" x="71" y="126.0918">subscriptions_.insert(remoteEndpointGuid)</text><rect fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="132" y="202.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="142" y="224.0605">list.insert(request)</text><polygon fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" points="48,158.9219,347,158.9219,359,170.9219,347,182.9219,48,182.9219,36,170.9219,48,158.9219" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="299" x="48" y="174.73">for each pending_requests_ for remoteEndpointGuid</text><rect fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="42.5" y="278.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="286" x="56.5" y="300.0293">pending_requests_.erase(remoteEndpointGuid)</text><path d="M305,337.2773 L305,345.8438 L285,349.8438 L305,353.8438 L305,362.4102 A0,0 0 0 0 305,362.4102 L697,362.4102 A0,0 0 0 0 697,362.4102 L697,347.2773 L687,337.2773 L305,337.2773 A0,0 0 0 0 305,337.2773 " fill="#FBFB77" filter="url(#f1pco3rn1owzz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M687,337.2773 L687,347.2773 L697,347.2773 L687,337.2773 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="371" x="311" y="354.3442">Also notify on conditionVariable_ if conditionMutex_ exists</text><rect fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="110" y="332.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="124" y="353.998">list_has_data_.store(true)</text><rect fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="282" x="707" y="104.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="258" x="721" y="126.0918">subscriptions_.erase(remoteEndpointGuid)</text><polygon fill="#FEFECE" filter="url(#f1pco3rn1owzz1)" points="527.75,372.8281,539.75,384.8281,527.75,396.8281,515.75,384.8281,527.75,372.8281" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="527.75" cy="427.8281" fill="#FFFFFF" filter="url(#f1pco3rn1owzz1)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="527.75" cy="427.8281" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="182.9219" y2="202.9219"/><polygon fill="#A80036" points="193.5,192.9219,197.5,202.9219,201.5,192.9219,197.5,196.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="236.8906" y2="246.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="371" y1="246.8906" y2="246.8906"/><polygon fill="#A80036" points="367,217.9063,371,207.9063,375,217.9063,371,213.9063" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="371" x2="371" y1="170.9219" y2="246.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="371" x2="359" y1="170.9219" y2="170.9219"/><polygon fill="#A80036" points="369,166.9219,359,170.9219,369,174.9219,365,170.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="36" x2="24" y1="170.9219" y2="170.9219"/><polygon fill="#A80036" points="20,203.9063,24,213.9063,28,203.9063,24,207.9063" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="24" y1="170.9219" y2="258.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="197.5" y1="258.8906" y2="258.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="258.8906" y2="278.8906"/><polygon fill="#A80036" points="193.5,268.8906,197.5,278.8906,201.5,268.8906,197.5,272.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="138.9219" y2="158.9219"/><polygon fill="#A80036" points="193.5,148.9219,197.5,158.9219,201.5,148.9219,197.5,152.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="312.8594" y2="332.8594"/><polygon fill="#A80036" points="193.5,322.8594,197.5,332.8594,201.5,322.8594,197.5,326.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="454.75" x2="197.5" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="193.5,94.9531,197.5,104.9531,201.5,94.9531,197.5,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="600.75" x2="848" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848" x2="848" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="844,94.9531,848,104.9531,852,94.9531,848,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="197.5" y1="366.8281" y2="384.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.5" x2="515.75" y1="384.8281" y2="384.8281"/><polygon fill="#A80036" points="505.75,380.8281,515.75,384.8281,505.75,388.8281,509.75,384.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848" x2="848" y1="138.9219" y2="384.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848" x2="539.75" y1="384.8281" y2="384.8281"/><polygon fill="#A80036" points="549.75,380.8281,539.75,384.8281,549.75,388.8281,545.75,384.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="527.75" x2="527.75" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="523.75,60.9531,527.75,70.9531,531.75,60.9531,527.75,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="527.75" x2="527.75" y1="396.8281" y2="416.8281"/><polygon fill="#A80036" points="523.75,406.8281,527.75,416.8281,531.75,406.8281,527.75,410.8281" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c6e3aed42c89798710e496417d72c879]
@startuml
title ServiceListener::OnPublicationMatched
start
if (MATCHED_MATCHING) then (yes)
  : subscriptions_.insert(remoteEndpointGuid);
  while (for each pending_requests_ for remoteEndpointGuid)
    :list.insert(request);
  endwhile
  : pending_requests_.erase(remoteEndpointGuid);
  : list_has_data_.store(true);
    note right : Also notify on conditionVariable_ if conditionMutex_ exists
else(no)
  : subscriptions_.erase(remoteEndpointGuid);
endif
stop
@enduml

PlantUML version 1.2020.16beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>