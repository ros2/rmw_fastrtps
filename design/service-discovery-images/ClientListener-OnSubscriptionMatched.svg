<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="507px" preserveAspectRatio="none" style="width:1295px;height:507px;" version="1.1" viewBox="0 0 1295 507" width="1295px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p28rp2c9nr7k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="363" x="465" y="26.708">ClientListener::OnSubscriptionMatched</text><ellipse cx="635" cy="40.9531" fill="#000000" filter="url(#f1p28rp2c9nr7k)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="574,70.9531,696,70.9531,708,82.9531,696,94.9531,574,94.9531,562,82.9531,574,70.9531" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="574" y="86.7612">MATCHED_MATCHING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="541" y="80.3589">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="708" y="80.3589">no</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="263" x="178.5" y="104.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="192.5" y="126.0918">publishers_.insert(remoteEndpointGuid)</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="598" x="11" y="222.3242"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="574" x="25" y="243.4629">complete_matches_[response_publisher_guid] = pending_matches_[response_publisher_guid]</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="336" x="142" y="276.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="312" x="156" y="297.4316">pending_matches_.erase(response_publisher_guid)</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="179" y="340.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="238" x="193" y="361.998">complete_matches_count_.fetch_add(1)</text><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="170,173.9219,450,173.9219,462,185.9219,450,197.9219,170,197.9219,158,185.9219,170,173.9219" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="314" y="208.1323">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="170" y="189.73">pending_matches_.find(response_publisher_guid)</text><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="310,394.8281,322,406.8281,310,418.8281,298,406.8281,310,394.8281" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="261" x="829.5" y="153.3555"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="237" x="843.5" y="174.4941">complete_matches_count_.fetch_sub(1)</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="598" x="661" y="222.3242"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="574" x="675" y="243.4629">pending_matches_[response_publisher_guid] = complete_matches_[response_publisher_guid]</text><rect fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="344" x="788" y="276.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="320" x="802" y="297.4316">complete_matches_.erase(response_publisher_guid)</text><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="816,104.9531,1104,104.9531,1116,116.9531,1104,128.9531,816,128.9531,804,116.9531,816,104.9531" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="964" y="139.1636">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="816" y="120.7612">complete_matches_.find(response_publisher_guid)</text><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="960,330.2617,972,342.2617,960,354.2617,948,342.2617,960,330.2617" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1p28rp2c9nr7k)" points="635,424.8281,647,436.8281,635,448.8281,623,436.8281,635,424.8281" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="635" cy="479.8281" fill="#FFFFFF" filter="url(#f1p28rp2c9nr7k)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="635" cy="479.8281" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="256.293" y2="276.293"/><polygon fill="#A80036" points="306,266.293,310,276.293,314,266.293,310,270.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="310.2617" y2="340.8594"/><polygon fill="#A80036" points="306,330.8594,310,340.8594,314,330.8594,310,334.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="197.9219" y2="222.3242"/><polygon fill="#A80036" points="306,212.3242,310,222.3242,314,212.3242,310,216.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="462" x2="619" y1="185.9219" y2="185.9219"/><polygon fill="#A80036" points="615,283.2773,619,293.2773,623,283.2773,619,287.2773" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="619" x2="619" y1="185.9219" y2="406.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="619" x2="322" y1="406.8281" y2="406.8281"/><polygon fill="#A80036" points="332,402.8281,322,406.8281,332,410.8281,328,406.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="374.8281" y2="394.8281"/><polygon fill="#A80036" points="306,384.8281,310,394.8281,314,384.8281,310,388.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="138.9219" y2="173.9219"/><polygon fill="#A80036" points="306,163.9219,310,173.9219,314,163.9219,310,167.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="187.3242" y2="222.3242"/><polygon fill="#A80036" points="956,212.3242,960,222.3242,964,212.3242,960,216.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="256.293" y2="276.293"/><polygon fill="#A80036" points="956,266.293,960,276.293,964,266.293,960,270.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="128.9531" y2="153.3555"/><polygon fill="#A80036" points="956,143.3555,960,153.3555,964,143.3555,960,147.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1116" x2="1269" y1="116.9531" y2="116.9531"/><polygon fill="#A80036" points="1265,229.3086,1269,239.3086,1273,229.3086,1269,233.3086" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1269" x2="1269" y1="116.9531" y2="342.2617"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1269" x2="972" y1="342.2617" y2="342.2617"/><polygon fill="#A80036" points="982,338.2617,972,342.2617,982,346.2617,978,342.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="310.2617" y2="330.2617"/><polygon fill="#A80036" points="956,320.2617,960,330.2617,964,320.2617,960,324.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="562" x2="310" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="306,94.9531,310,104.9531,314,94.9531,310,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="708" x2="960" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="956,94.9531,960,104.9531,964,94.9531,960,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="418.8281" y2="436.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="623" y1="436.8281" y2="436.8281"/><polygon fill="#A80036" points="613,432.8281,623,436.8281,613,440.8281,617,436.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="960" y1="354.2617" y2="436.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="960" x2="647" y1="436.8281" y2="436.8281"/><polygon fill="#A80036" points="657,432.8281,647,436.8281,657,440.8281,653,436.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="635" x2="635" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="631,60.9531,635,70.9531,639,60.9531,635,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="635" x2="635" y1="448.8281" y2="468.8281"/><polygon fill="#A80036" points="631,458.8281,635,468.8281,639,458.8281,635,462.8281" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b0d94a8fc7aaa2aa1aa8a772c00c5e14]
@startuml
title ClientListener::OnSubscriptionMatched
start
if (MATCHED_MATCHING) then (yes)
  : publishers_.insert(remoteEndpointGuid);
  if (pending_matches_.find(response_publisher_guid)) then (yes)
    : complete_matches_[response_publisher_guid] = pending_matches_[response_publisher_guid];
    : pending_matches_.erase(response_publisher_guid);
    : complete_matches_count_.fetch_add(1);
  endif
else (no)
  if (complete_matches_.find(response_publisher_guid)) then (yes)
    : complete_matches_count_.fetch_sub(1);
    : pending_matches_[response_publisher_guid] = complete_matches_[response_publisher_guid];
    : complete_matches_.erase(response_publisher_guid);
  endif
endif
stop
@enduml

PlantUML version 1.2020.16(Sun Aug 23 20:20:43 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>