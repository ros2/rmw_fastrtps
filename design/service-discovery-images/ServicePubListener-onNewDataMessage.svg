<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="647px" preserveAspectRatio="none" style="width:819px;height:647px;" version="1.1" viewBox="0 0 819 647" width="819px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ld6zl93z2oqw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="343" x="237.25" y="26.708">ServiceListener::onNewDataMessage</text><ellipse cx="308" cy="40.9531" fill="#000000" filter="url(#f1ld6zl93z2oqw)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="256" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="270" y="92.0918">takeNextData</text><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="427" x="94.5" y="124.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="403" x="108.5" y="146.0605">request_publisher_guid = sample_info.SampleIdentity.writer_guid()</text><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="594" x="11" y="178.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="570" x="25" y="200.0293">response_subscriber_guid = participant_info_.remote_response_guid(request_publisher_guid)</text><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="420" x="98" y="329.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="396" x="112" y="350.8027">pending_requests_.emplace(response_subscriber_guid, request)</text><ellipse cx="308" cy="403.1484" fill="#FFFFFF" filter="url(#f1ld6zl93z2oqw)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="308" cy="403.1484" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" points="179,281.2617,437,281.2617,449,293.2617,437,305.2617,179,305.2617,167,293.2617,179,281.2617" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="312" y="315.4722">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="179" y="297.0698">subscriptions_.find(response_subscriber_guid)</text><polygon fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" points="176,232.8594,440,232.8594,452,244.8594,440,256.8594,176,256.8594,164,244.8594,176,232.8594" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="312" y="267.0698">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="176" y="248.6675">response_subscriber_guid != c_Guid_Unknown</text><polygon fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" points="308,456.1484,320,468.1484,308,480.1484,296,468.1484,308,456.1484" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="225.5" y="500.1484"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="239.5" y="521.2871">list.push_back(request)</text><path d="M415.5,558.5352 L415.5,567.1016 L395.5,571.1016 L415.5,575.1016 L415.5,583.668 A0,0 0 0 0 415.5,583.668 L807.5,583.668 A0,0 0 0 0 807.5,583.668 L807.5,568.5352 L797.5,558.5352 L415.5,558.5352 A0,0 0 0 0 415.5,558.5352 " fill="#FBFB77" filter="url(#f1ld6zl93z2oqw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M797.5,558.5352 L797.5,568.5352 L807.5,568.5352 L797.5,558.5352 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="371" x="421.5" y="575.6021">Also notify on conditionVariable_ if conditionMutex_ exists</text><rect fill="#FEFECE" filter="url(#f1ld6zl93z2oqw)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="220.5" y="554.1172"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="234.5" y="575.2559">list_has_data_.store(true)</text><ellipse cx="308" cy="619.0859" fill="#FFFFFF" filter="url(#f1ld6zl93z2oqw)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="308" cy="619.0859" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="304,60.9531,308,70.9531,312,60.9531,308,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="304,114.9219,308,124.9219,312,114.9219,308,118.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="158.8906" y2="178.8906"/><polygon fill="#A80036" points="304,168.8906,308,178.8906,312,168.8906,308,172.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="363.6328" y2="392.1484"/><polygon fill="#A80036" points="304,382.1484,308,392.1484,312,382.1484,308,386.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="305.2617" y2="329.6641"/><polygon fill="#A80036" points="304,319.6641,308,329.6641,312,319.6641,308,323.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="449" x2="528" y1="293.2617" y2="293.2617"/><polygon fill="#A80036" points="524,362.1484,528,372.1484,532,362.1484,528,366.1484" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="528" x2="528" y1="293.2617" y2="436.1484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="528" x2="308" y1="436.1484" y2="436.1484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="436.1484" y2="456.1484"/><polygon fill="#A80036" points="304,446.1484,308,456.1484,312,446.1484,308,450.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="256.8594" y2="281.2617"/><polygon fill="#A80036" points="304,271.2617,308,281.2617,312,271.2617,308,275.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="452" x2="550" y1="244.8594" y2="244.8594"/><polygon fill="#A80036" points="546,356.1484,550,366.1484,554,356.1484,550,360.1484" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="550" x2="550" y1="244.8594" y2="468.1484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="550" x2="320" y1="468.1484" y2="468.1484"/><polygon fill="#A80036" points="330,464.1484,320,468.1484,330,472.1484,326,468.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="212.8594" y2="232.8594"/><polygon fill="#A80036" points="304,222.8594,308,232.8594,312,222.8594,308,226.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="480.1484" y2="500.1484"/><polygon fill="#A80036" points="304,490.1484,308,500.1484,312,490.1484,308,494.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="534.1172" y2="554.1172"/><polygon fill="#A80036" points="304,544.1172,308,554.1172,312,544.1172,308,548.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="308" y1="588.0859" y2="608.0859"/><polygon fill="#A80036" points="304,598.0859,308,608.0859,312,598.0859,308,602.0859" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1a51667a1ae508b5831fa6365406b374]
@startuml
title ServiceListener::onNewDataMessage
start
: takeNextData;
: request_publisher_guid = sample_info.SampleIdentity.writer_guid();
: response_subscriber_guid = participant_info_.remote_response_guid(request_publisher_guid);
if (response_subscriber_guid != c_Guid_Unknown) then (yes)
  if (subscriptions_.find(response_subscriber_guid)) then (no)
    : pending_requests_.emplace(response_subscriber_guid, request);
    stop
  endif
endif
: list.push_back(request);
: list_has_data_.store(true);
note right : Also notify on conditionVariable_ if conditionMutex_ exists
stop
@enduml

PlantUML version 1.2020.16beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>