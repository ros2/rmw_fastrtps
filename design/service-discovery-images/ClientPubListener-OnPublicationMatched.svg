<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="570px" preserveAspectRatio="none" style="width:1528px;height:570px;" version="1.1" viewBox="0 0 1528 570" width="1528px" zoomAndPan="magnify"><defs><filter height="300%" id="fkfakz2nib8a6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="383" x="571.625" y="26.708">ClientPubListener::OnPublicationMatched</text><ellipse cx="847.25" cy="40.9531" fill="#000000" filter="url(#fkfakz2nib8a6)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="786.25,70.9531,908.25,70.9531,920.25,82.9531,908.25,94.9531,786.25,94.9531,774.25,82.9531,786.25,70.9531" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="786.25" y="86.7612">MATCHED_MATCHING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="753.25" y="80.3589">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="920.25" y="80.3589">no</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="317.5" y="104.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="257" x="331.5" y="126.0918">subscriptions_.insert(remoteEndpointGuid)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="567" x="174.5" y="158.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="543" x="188.5" y="180.0605">response_publisher_guid = participant_info_.remote_response_guid(remoteEndpointGuid)</text><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="339.5,261.293,576.5,261.293,588.5,273.293,576.5,285.293,339.5,285.293,327.5,273.293,339.5,261.293" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="339.5" y="277.1011">publishers_.find(response_publisher_guid)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="306.5" y="270.6987">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="588.5" y="270.6987">no</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="439" x="11" y="295.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="415" x="25" y="316.4316">complete_matches_[response_publisher_guid]=remoteEndpointGuid</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="99.5" y="364.2617"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="238" x="113.5" y="385.4004">complete_matches_count_.fetch_add(1)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="431" x="470" y="295.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="407" x="484" y="316.4316">pending_matches_[response_publisher_guid]=remoteEndpointGuid</text><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="458,404.2305,470,416.2305,458,428.2305,446,416.2305,458,404.2305" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="329,212.8906,587,212.8906,599,224.8906,587,236.8906,329,236.8906,317,224.8906,329,212.8906" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="462" y="247.1011">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="329" y="228.6987">response_publisher_guid != c_Guid_Unknown</text><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="458,452.6328,470,464.6328,458,476.6328,446,464.6328,458,452.6328" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="282" x="1086.75" y="104.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="258" x="1100.75" y="126.0918">subscriptions_.erase(remoteEndpointGuid)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="567" x="944.25" y="158.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="543" x="958.25" y="180.0605">response_publisher_guid = participant_info_.remote_response_guid(remoteEndpointGuid)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="261" x="1097.25" y="261.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="237" x="1111.25" y="282.4316">complete_matches_count_.fetch_sub(1)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="344" x="1055.75" y="330.2617"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="320" x="1069.75" y="351.4004">complete_matches_.erase(response_publisher_guid)</text><rect fill="#FEFECE" filter="url(#fkfakz2nib8a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="336" x="1059.75" y="399.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="312" x="1073.75" y="420.3691">pending_matches_.erase(response_publisher_guid)</text><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="1098.75,212.8906,1356.75,212.8906,1368.75,224.8906,1356.75,236.8906,1098.75,236.8906,1086.75,224.8906,1098.75,212.8906" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1231.75" y="247.1011">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="1098.75" y="228.6987">response_publisher_guid != c_Guid_Unknown</text><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="1227.75,457.6016,1239.75,469.6016,1227.75,481.6016,1215.75,469.6016,1227.75,457.6016" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fkfakz2nib8a6)" points="847.25,487.6016,859.25,499.6016,847.25,511.6016,835.25,499.6016,847.25,487.6016" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="847.25" cy="542.6016" fill="#FFFFFF" filter="url(#fkfakz2nib8a6)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="847.25" cy="542.6016" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="138.9219" y2="158.9219"/><polygon fill="#A80036" points="454,148.9219,458,158.9219,462,148.9219,458,152.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230.5" x2="230.5" y1="329.2617" y2="364.2617"/><polygon fill="#A80036" points="226.5,354.2617,230.5,364.2617,234.5,354.2617,230.5,358.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327.5" x2="230.5" y1="273.293" y2="273.293"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230.5" x2="230.5" y1="273.293" y2="295.293"/><polygon fill="#A80036" points="226.5,285.293,230.5,295.293,234.5,285.293,230.5,289.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="588.5" x2="685.5" y1="273.293" y2="273.293"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="685.5" x2="685.5" y1="273.293" y2="295.293"/><polygon fill="#A80036" points="681.5,285.293,685.5,295.293,689.5,285.293,685.5,289.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230.5" x2="230.5" y1="398.2305" y2="416.2305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230.5" x2="446" y1="416.2305" y2="416.2305"/><polygon fill="#A80036" points="436,412.2305,446,416.2305,436,420.2305,440,416.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="685.5" x2="685.5" y1="329.2617" y2="416.2305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="685.5" x2="470" y1="416.2305" y2="416.2305"/><polygon fill="#A80036" points="480,412.2305,470,416.2305,480,420.2305,476,416.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="236.8906" y2="261.293"/><polygon fill="#A80036" points="454,251.293,458,261.293,462,251.293,458,255.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="599" x2="921" y1="224.8906" y2="224.8906"/><polygon fill="#A80036" points="917,334.7617,921,344.7617,925,334.7617,921,338.7617" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="921" x2="921" y1="224.8906" y2="464.6328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="921" x2="470" y1="464.6328" y2="464.6328"/><polygon fill="#A80036" points="480,460.6328,470,464.6328,480,468.6328,476,464.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="428.2305" y2="452.6328"/><polygon fill="#A80036" points="454,442.6328,458,452.6328,462,442.6328,458,446.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="192.8906" y2="212.8906"/><polygon fill="#A80036" points="454,202.8906,458,212.8906,462,202.8906,458,206.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="138.9219" y2="158.9219"/><polygon fill="#A80036" points="1223.75,148.9219,1227.75,158.9219,1231.75,148.9219,1227.75,152.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="295.2617" y2="330.2617"/><polygon fill="#A80036" points="1223.75,320.2617,1227.75,330.2617,1231.75,320.2617,1227.75,324.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="364.2305" y2="399.2305"/><polygon fill="#A80036" points="1223.75,389.2305,1227.75,399.2305,1231.75,389.2305,1227.75,393.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="236.8906" y2="261.293"/><polygon fill="#A80036" points="1223.75,251.293,1227.75,261.293,1231.75,251.293,1227.75,255.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1368.75" x2="1409.75" y1="224.8906" y2="224.8906"/><polygon fill="#A80036" points="1405.75,337.2461,1409.75,347.2461,1413.75,337.2461,1409.75,341.2461" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1409.75" x2="1409.75" y1="224.8906" y2="469.6016"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1409.75" x2="1239.75" y1="469.6016" y2="469.6016"/><polygon fill="#A80036" points="1249.75,465.6016,1239.75,469.6016,1249.75,473.6016,1245.75,469.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="433.1992" y2="457.6016"/><polygon fill="#A80036" points="1223.75,447.6016,1227.75,457.6016,1231.75,447.6016,1227.75,451.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="192.8906" y2="212.8906"/><polygon fill="#A80036" points="1223.75,202.8906,1227.75,212.8906,1231.75,202.8906,1227.75,206.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="774.25" x2="458" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="454,94.9531,458,104.9531,462,94.9531,458,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="920.25" x2="1227.75" y1="82.9531" y2="82.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="82.9531" y2="104.9531"/><polygon fill="#A80036" points="1223.75,94.9531,1227.75,104.9531,1231.75,94.9531,1227.75,98.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="458" y1="476.6328" y2="499.6016"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458" x2="835.25" y1="499.6016" y2="499.6016"/><polygon fill="#A80036" points="825.25,495.6016,835.25,499.6016,825.25,503.6016,829.25,499.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="1227.75" y1="481.6016" y2="499.6016"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1227.75" x2="859.25" y1="499.6016" y2="499.6016"/><polygon fill="#A80036" points="869.25,495.6016,859.25,499.6016,869.25,503.6016,865.25,499.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="847.25" x2="847.25" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="843.25,60.9531,847.25,70.9531,851.25,60.9531,847.25,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="847.25" x2="847.25" y1="511.6016" y2="531.6016"/><polygon fill="#A80036" points="843.25,521.6016,847.25,531.6016,851.25,521.6016,847.25,525.6016" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[477b881373f396493fad7930551406fa]
@startuml
title ClientPubListener::OnPublicationMatched
start
if (MATCHED_MATCHING) then (yes)
  : subscriptions_.insert(remoteEndpointGuid);
  : response_publisher_guid = participant_info_.remote_response_guid(remoteEndpointGuid);
  if (response_publisher_guid != c_Guid_Unknown) then (yes)
    if (publishers_.find(response_publisher_guid)) then (yes)
      : complete_matches_[response_publisher_guid]=remoteEndpointGuid;
      : complete_matches_count_.fetch_add(1);
    else (no)
      : pending_matches_[response_publisher_guid]=remoteEndpointGuid;
    endif
  endif
else (no)
  : subscriptions_.erase(remoteEndpointGuid);
  : response_publisher_guid = participant_info_.remote_response_guid(remoteEndpointGuid);
  if (response_publisher_guid != c_Guid_Unknown) then (yes)
    : complete_matches_count_.fetch_sub(1);
    : complete_matches_.erase(response_publisher_guid);
    : pending_matches_.erase(response_publisher_guid);
  endif
endif
stop
@enduml

PlantUML version 1.2020.16(Sun Aug 23 20:20:43 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>